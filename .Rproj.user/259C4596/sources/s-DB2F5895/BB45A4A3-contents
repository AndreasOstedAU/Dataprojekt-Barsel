---
title: "Dataprojekt"
author: "Nicoline Sørensen"
date: "3/3/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

Loading data receiver package:
```{r}
library(statsDK)
library(tidyverse)
```

# DATA for antal personer med højeste uddannelse i hver landsdel
```{r}
UDD_LANDSDELE <- read.csv(file="udd_landsdele_data.csv", sep=";", header=TRUE)
dim(UDD_LANDSDELE)
head(UDD_LANDSDELE)
```

# DATA for gennemsnitlige antal barseldage for mor og far i hver landsdel
```{r}
BARSELSDAGE_LANDSDELE <- read.csv(file="barseldage_landsdel_csvdata2.csv", sep=";", header=TRUE)
dim(BARSELSDAGE_LANDSDELE)
head(BARSELSDAGE_LANDSDELE)
```

# DATA for indbyggertal i hver landsdel
```{r}
INDBYGGERTAL_LANDSDELE <- read.csv(file="indbyggertal_landsdele_csvdata.csv", sep=";", header=TRUE)
dim(INDBYGGERTAL_LANDSDELE)
INDBYGGERTAL_LANDSDELE
```

Join af de 3 tables på landsdel
```{r}
TEMP_data <- INDBYGGERTAL_LANDSDELE %>% full_join(BARSELSDAGE_LANDSDELE)
new_data <- TEMP_data %>% full_join(UDD_LANDSDELE)
head(new_data)
```

Renaming af kolonner samt nye kolonner med proportion af hver uddannelsform:
```{r}
new_data2 <- rename(new_data, Indbyggertal = Indbyggetal, MorBarselsdage = Mor...barselsdagpengedage.i.gennemsnit, FarBarselsdage=Far...barselsdagpengedage.i.gennemsnit, Grundskole=X10.GRUNDSKOLE, Gymnasie=X20.25.GYMNASIALE.UDDANNELSER, Erhverv=X35.ERHVERVSUDDANNELSER, KortVidere=X40.KORTE.VIDEREGÅENDE.UDDANNELSER, MellemVidere=X50.60.MELLEMLANGE.VIDEREGÅENDE.UDDANNELSER.INKL..BACHELOR, LangVidere=X65.LANGE.VIDEREGÅENDE.UDDANNELSER)
head(new_data2)

new_data2 <- new_data2 %>% mutate(ProportionGrund=Grundskole/Indbyggertal, ProportionGym=Gymnasie/Indbyggertal, ProportionErhver=Erhverv/Indbyggertal, ProportionKort=KortVidere/Indbyggertal, ProportionMellem= MellemVidere/Indbyggertal, ProportionLang=LangVidere/Indbyggertal, ProportionUoplyst=Uoplyst/Indbyggertal)
head(new_data2)
```

# Lav dummy variable for hver landsdel (hvis man skal lave en model så skal man bruge alt data og ikke kun gennemsnit) - samme teknik bruges på alt data når model skal laves

```{r}
new_data2$ByenKøbenhavn = ifelse(new_data2$Landsdel == 'Landsdel Byen København', 1, 0 )
new_data2$KøbenhavnOmegn = ifelse(new_data2$Landsdel == 'Landsdel Københavns omegn', 1, 0 )
new_data2$Nordsjælland = ifelse(new_data2$Landsdel == 'Landsdel Nordsjælland', 1, 0 )
new_data2$Bornholm = ifelse(new_data2$Landsdel == 'Landsdel Bornholm', 1, 0 )
new_data2$Østsjælland = ifelse(new_data2$Landsdel == 'Landsdel Østsjælland', 1, 0 )
new_data2$VestSydsjælland = ifelse(new_data2$Landsdel == 'Landsdel Vest- og Sydsjælland', 1, 0 )
new_data2$Fyn = ifelse(new_data2$Landsdel == 'Landsdel Fyn', 1, 0 )
new_data2$Sydjylland = ifelse(new_data2$Landsdel == 'Landsdel Sydjylland', 1, 0 )
new_data2$Østjylland = ifelse(new_data2$Landsdel == 'Landsdel Østjylland', 1, 0 )
new_data2$Vestjylland = ifelse(new_data2$Landsdel == 'Landsdel Vestjylland', 1, 0 )
new_data2$Nordjylland = ifelse(new_data2$Landsdel == 'Landsdel Nordjylland', 1, 0 )
```





